<!doctype html>
<html style="height:100%;margin:0">

<head>
    <title>Goodbye Glacier Ride</title>
    <link rel="icon" type="image/x-icon" href="img/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/2.1.2/gpx.min.js" defer></script>
    <link rel="stylesheet" href="css/style.css?v0.21">

    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
</head>

<body style="height:100%;margin:0">
    
    <div  id="modal_wrapper" onclick="closeModal()" class="modal_wrapper">
        <div id="modal" class="modal">
            <div class="modaltop">
                <div onclick="closeModal()" class="closeicon">
                <svg >
                    <path d="M16.2,5.5L12,9.7L7.8,5.5L5.5,7.8L9.7,12l-4.2,4.2l2.3,2.3l4.2-4.2l4.2,4.2l2.3-2.3L14.3,12l4.2-4.2L16.2,5.5z"/> </svg>
                </div>
            </div>
            <div class="modalcontent" onclick="handleClick(event)">
            <img class="modal_image" src="img/aletsch.png" />
            <div>
                <div class="section">
                    <div class="text_section">
                       
                        <p>Starting from 4048m of altitude, the Morteratsch Glacier is 6km long and the sixth biggest glacier in the Alps.

                            After a steep icefall, the tongue flattens abruptly and shows beautiful ogives: an alternation of darker and lighter bands of ice created by (seasonal) differences in flow velocity of the icefall.
                            
                            Since 1900 the length of the Morteratsch has declined by 3km, while annually it loses about 10 meter of thickness. 
                            
                            Even if we meet the most stringent climate policies, according to recent research and this animation, the Morteratsch glacier will disappear by 2100. 
                            
                            source: https://glacierchange.com/en/morteratsch-glacier/ 
                            
                        </p>
                    </div>
                </div>
                <div class="section">
                    <div class="text_section">
                        <div class="column_section">
                            <div class="twocolumn">
                                <img src="./img/1080px-Switzerland,_Bettmeralp_(19505442736).jpg" />
                            </div>
                            <div class="twocolumn">
                                <h3>The Aletsch Glacier is the largest glacier in the Alps.
                                    biggest

                                    6km in length
                                    -67% volume loss since 1900
                                    Expected to be vanished in 2100

                                </h3>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </div>
    <div id="wrapper" class="wrapper">
        <div class="header"></div>
        <div class="main">
            <div class="section">
                <div class="image_section">
                    <div class="center_image_section">
                        <img alt="" src="img/finalggr.png" width="300">

                    </div>

                </div>
            </div>

            <div class="section">
                <div class="text_section">
                    <h1>Goodbye Glacier Ride</h1>
                    <p>A 1.500 km cycling trip from Munich to Monaco with more than 30.000 altimeters. Passing the
                        massive
                        glaciers of the Alps and crossing its most spectacular cols.
                        A two week cycling adventure to enjoy the beauty of the Alps and face the harsh reality of
                        climate change.
                        <br> <br>
                        Ready to join the Goodbye Glacier Ride?
                    </p>
                </div>
            </div>
            <div class="section">
                <div class="image_section">
                    <div class="links"><a href="#route">The Route</a> | <a href="#why">Why</a> | <a href="#support">Join
                            or Support</a></div>
                </div>
            </div>
            <div class="section">
                <div class="image_section">
                    <div id="map"></div>
                   
                </div>
            </div>
            <div class="section">
                <div id="route" class="section_title">The Route</div>



            </div>
            <div class="section">
                <div class="anim">
                    <div class="anim_left">

                        <div class="route_section">
                            <div id="wp1" class="wp1 waypoint_right_align"><img class="flag" src="img/de.svg" />Munich
                            </div>
                            <div class="wp1 day_section_text_left">
                                <div class="route_data_left">
                                    <div class="day_label"><img class="icon" src="img/day.svg" />1<span
                                            class="superscript">st</span>
                                        <span>day</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/dist.svg" />119 <span>km</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/alt.svg" />820 <span>m</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Garmisch
                                            Spartenkirchen</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp2 dist_left ">119 km</div>
                            <div class="wp2 day_section right_align">
                                <div class="route_image_left"></div>

                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp3 waypoint_right_align"><img class="flag" src="img/it.svg" />Sankt Valentin
                            </div>
                            <div class="wp3 day_section_text_left">
                                <div class="route_data_left">
                                    <div class="day_label"><img class="icon" src="img/day.svg" />3<span
                                            class="superscript">rd</span>
                                        <span>day</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/dist.svg" />91 <span>km</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/alt.svg" />2.980 <span>m</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Passo dello
                                            Stelvio</span></div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Passo di Valle
                                            Alpisella</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp4 dist_left">328 km</div>
                            <div class="wp4 day_section right_align">
                                <div class="route_image_left"></div>

                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp5 waypoint_right_align"><img class="flag" src="img/ch.svg" />Thusis</div>

                            <div class="wp5 day_section_text_left">
                                <div class="route_data_left">
                                    <div class="day_label"><img class="icon" src="img/day.svg" />5<span
                                            class="superscript">th</span>
                                        <span>day</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/dist.svg" />100 <span>km</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/alt.svg" />1.950 <span>m</span>
                                    </div>
                                    <div class="day_label"><img class="icon"
                                            src="img/poi.svg" /><span>Oberalppass</span></div>
                                </div>
                            </div>

                        </div>
                        <div class="route_section">
                            <div class="wp6 dist_left">537 km</div>
                            <div class="wp6 day_section right_align">
                                <div class="route_image_left"></div>

                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp7 waypoint_right_align"><img class="flag" src="img/ch.svg" />Mörel-Filet</div>

                            <div class="wp7 day_section_text_left">
                                <div class="route_data_left">
                                    <div class="day_label"><img class="icon" src="img/day.svg" />7<span
                                            class="superscript">th</span>
                                        <span>day</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/dist.svg" />52 <span>km</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/alt.svg" />1.020 <span>m</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Glacier
                                            Valley</span></div>
                                </div>
                            </div>

                        </div>
                        <div class="route_section">
                            <div class="wp8 dist_left">690 km</div>
                            <div class="wp8 day_section right_align">
                                <div class="route_image_left"></div>

                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp9 waypoint_right_align"><img class="flag" src="img/ch.svg" />Martigny</div>

                            <div class="wp9 day_section_text_left">
                                <div class="route_data_left">
                                    <div class="day_label"><img class="icon" src="img/day.svg" />9<span
                                            class="superscript">th</span>
                                        <span>day</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/dist.svg" />67 <span>km</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/alt.svg" />3.400 <span>m</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Col de la
                                            Forclaz</span></div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Trient
                                            Glacier</span></div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Col des
                                            Montets</span></div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Mer de
                                            Glace</span></div>
                                </div>
                            </div>

                        </div>
                        <div class="route_section">
                            <div class="wp10 dist_left">929 km</div>
                            <div class="wp10 day_section right_align">
                                <div class="route_image_left"></div>

                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp11 waypoint_right_align"><img class="flag" src="img/fr.svg" />Bourg St.
                                Maurice</div>

                            <div class="wp11 day_section_text_left">
                                <div class="route_data_left">
                                    <div class="day_label"><img class="icon" src="img/day.svg" />11<span
                                            class="superscript">th</span>
                                        <span>day</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/dist.svg" />125 <span>km</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/alt.svg" />2.945 <span>m</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Col de
                                            l'Isteran</span></div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Col de Mont
                                            Cenis</span></div>
                                </div>
                            </div>

                        </div>
                        <div class="route_section">
                            <div class="wp12 dist_left">1.171 km</div>
                            <div class="wp12 day_section right_align">
                                <div class="route_image_left"></div>

                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp13 waypoint_right_align"><img class="flag" src="img/fr.svg" />Guillestre</div>

                            <div class="wp13 day_section_text_left">
                                <div class="route_data_left">
                                    <div class="day_label"><img class="icon" src="img/day.svg" />13<span
                                            class="superscript">th</span>
                                        <span>day</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/dist.svg" />105 <span>km</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/alt.svg" />2.700 <span>m</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Col de
                                            Vars</span></div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Cime de la
                                            Bonette</span></div>
                                </div>
                            </div>

                        </div>
                        <div class="route_section">
                            <div class="wp14 dist_left">1.388 km</div>
                            <div class="wp14 day_section right_align">
                                <div class="route_image_left"></div>

                            </div>
                        </div>
                        <div class="route_section_last">
                            <div class="wp15 waypoint_right_align"><img class="flag" src="img/mc.svg" />Monaco Casino
                            </div>

                        </div>
                    </div>
                    <div class="anim_mid">
                        <canvas id="cyclist2" width="200" height="5290"></canvas>
                    </div>
                    <div class="anim_right">
                        <div class="route_section">
                            <div class="wp1 dist_left"></div>
                            <div class="wp1 day_section left_align">
                                <div class="route_image_right"><img onclick="showModal(1)" class="postcard"
                                        src="img/aletsch.png" />
                                </div>

                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp2 waypoint_left_align">Ehrwald<img class="flag" src="img/at.svg" /></div>
                            <div class="wp2 day_section_text_right">
                                <div class="route_data_right">
                                    <div class="day_label"><img class="icon" src="img/day.svg" />2<span
                                            class="superscript">nd</span> <span>day</span></div>
                                    <div class="day_label"><img class="icon" src="img/dist.svg" />118 <span>km</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/alt.svg" />1.580 <span>m</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Fernpass</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Campanile di
                                            Curon</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp3 dist_right ">237 km</div>
                            <div class="wp3 day_section left_align">
                                <div class="route_image_right"></div>

                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp4 waypoint_left_align">Livigno<img class="flag" src="img/it.svg" /></div>
                            <div class="wp4 day_section_text_right">
                                <div class="route_data_right">
                                    <div class="day_label"><img class="icon" src="img/day.svg" />4<span
                                            class="superscript">th</span> <span>day</span></div>
                                    <div class="day_label"><img class="icon" src="img/dist.svg" />190 <span>km</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/alt.svg" />1.990 <span>m</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Passo Forcola di
                                            Livigno</span></div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Passo
                                            Bernina</span></div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Morteratsch
                                            Glacier</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Albula
                                            pass</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp5 dist_right">437 km</div>
                            <div class="wp5 day_section left_align">
                                <div class="route_image_right"></div>

                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp6 waypoint_left_align">Andermatt<img class="flag" src="img/ch.svg" /></div>
                            <div class="wp6 day_section_text_right">
                                <div class="route_data_right">
                                    <div class="day_label"><img class="icon" src="img/day.svg" />6<span
                                            class="superscript">th</span> <span>day</span></div>
                                    <div class="day_label"><img class="icon" src="img/dist.svg" />101 <span>km</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/alt.svg" />2.530 <span>m</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Furkapass</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Rhone
                                            Glacier</span></div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Hotel
                                            Belvedere</span></div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Aletsch
                                            Glacier</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp7 dist_right">638 km</div>
                            <div class="wp7 day_section left_align">
                                <div class="route_image_right"></div>

                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp8 waypoint_left_align">Zermatt<img class="flag" src="img/ch.svg" /></div>
                            <div class="wp8 day_section_text_right">
                                <div class="route_data_right">
                                    <div class="day_label"><img class="icon" src="img/day.svg" />8<span
                                            class="superscript">th</span> <span>day</span></div>
                                    <div class="day_label"><img class="icon" src="img/dist.svg" />172 <span>km</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/alt.svg" />340 <span>m</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>UCI -
                                            Aigle</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp9 dist_right">862 km</div>
                            <div class="wp9 day_section left_align">
                                <div class="route_image_right"></div>

                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp10 waypoint_left_align">Chamonix<img class="flag" src="img/fr.svg" /></div>
                            <div class="wp10 day_section_text_right">
                                <div class="route_data_right">
                                    <div class="day_label"><img class="icon" src="img/day.svg" />10<span
                                            class="superscript">th</span> <span>day</span></div>
                                    <div class="day_label"><img class="icon" src="img/dist.svg" />117 <span>km</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/alt.svg" />2.690 <span>m</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Col des
                                            Saisies</span></div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Cormet de
                                            Roselend</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp11 dist_right">1.046 km</div>
                            <div class="wp11 day_section left_align">
                                <div class="route_image_right"></div>

                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp12 waypoint_left_align">Susa<img class="flag" src="img/it.svg" /></div>
                            <div class="wp12 day_section_text_right">
                                <div class="route_data_right">
                                    <div class="day_label"><img class="icon" src="img/day.svg" />12<span
                                            class="superscript">th</span> <span>day</span></div>
                                    <div class="day_label"><img class="icon" src="img/dist.svg" />112 <span>km</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/alt.svg" />3.850 <span>m</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Colle delle
                                            Finestre</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Col
                                            Bousson</span></div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Col
                                            d'Izoard</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="route_section">
                            <div class="wp13 dist_right">1.283 km</div>
                            <div class="wp13 day_section left_align">
                                <div class="route_image_right"></div>

                            </div>
                        </div>
                        <div class="route_section">
                            <div id="monaco" class="wp14 waypoint_left_align">Isola<img class="flag" src="img/fr.svg" />
                            </div>
                            <div class="wp14 day_section_text_right">
                                <div class="route_data_right">
                                    <div class="day_label"><img class="icon" src="img/day.svg" />14<span
                                            class="superscript">th</span> <span>day</span></div>
                                    <div class="day_label"><img class="icon" src="img/dist.svg" />130 <span>km</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/alt.svg" />2.620 <span>m</span>
                                    </div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Col
                                            Saint-Martin</span></div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Col de
                                            Turini</span></div>
                                    <div class="day_label"><img class="icon" src="img/poi.svg" /><span>Col de
                                            l'Ablé</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="route_section_last">
                            <div class="wp15 dist_right">1.518 km</div>

                        </div>

                    </div>
                </div>
            </div>
            <div class="section">
                <div id="why" class="section_title_space">Why</div>



            </div>


            <div class="section">
                <div class="text_section">
                    <div class="column_section">
                        <div class="twocolumn">
                            <h3>Glaciers are shrinking at record speed due to climate change.
                            </h3>
                            <br>

                            <h3>Billions of people are dependent on glaciers for water and food.
                            </h3>
                            <br>
                        </div>
                        <div class="twocolumn">
                            <div class="wrapperslider">
                                <div class="images">
                                    <div class="img-1"></div>
                                    <div class="img-2"></div>
                                </div>
                                <div class="slider">
                                    <div class="drag-line">
                                        <span></span>
                                    </div>
                                    <input type="range" min="0" max="100" value="50">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="section">
                <div class="red text_section ">
                    <h3>
                        We have to stop treating our atmosphere as a sewer and start to remove CO2 to preserve our
                        glaciers and secure a sustainable future for all.
                    </h3>
                </div>


            </div>
            <div class="section">
                <div class="section_spacer"></div>
            </div>
            <div class="section">
                <div class="text_section">
                    <div class="column_section">
                        <div class="twocolumn">
                            <img src="./img/MASTER_ENGLISH_FULLCOLOUR.png" />
                        </div>
                        <div class="twocolumn">
                            <h3>To highlight the importance of glaciers, the United Nations has designated 2025 as the
                                International Year of Glaciers' Preservation.
                            </h3>

                        </div>
                    </div>
                </div>
            </div>
            <div class="section">
                <div id="support" class="section_title_space">Support</div>



            </div>
            <div class="section">
                <div class="text_section">

                    <p>The Goodbye Glacier Ride started to show the harsh reality of climate change and ignite action to
                        do something about it.

                        You can support the ride by ordering one or more of the limited edition postcards. They will be
                        send from the location with a personal note. The total revenue (minus some costs) will go to XXX
                        good causes.

                    </p>
                </div>
            </div>
            <div class="section">
                <div class="text_section">
                    <div class="column_section">
                        <div class="threecolumn">
                            <h2>Goodbye Glacier Ride</h2>
                            <p>A 1.500 km cycling trip from Munich to Monaco with 30.000 altimeters. Passing the massive
                                glaciers of the Alps and crossing its most spectacular cols.
                                A two week cycling adventure to enjoy the beauty of the Alps and face the harsh reality
                                of climate change.
                            </p>
                        </div>
                        <div class="threecolumn">
                            <h2>Goodbye Glacier Ride</h2>
                            <p>
                                A 1.500 km cycling trip from Munich to Monaco with 30.000 altimeters. Passing the
                                massive glaciers of the Alps and crossing its most spectacular cols.
                                A two week cycling adventure to enjoy the beauty of the Alps and face the harsh reality
                                of climate change.
                            </p>
                        </div>
                        <div class="threecolumn">
                            <h2>Goodbye Glacier Ride</h2>
                            <p>
                                A 1.500 km cycling trip from Munich to Monaco with 30.000 altimeters. Passing the
                                massive glaciers of the Alps and crossing its most spectacular cols.
                                A two week cycling adventure to enjoy the beauty of the Alps and face the harsh reality
                                of climate change.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="footer"></div>
        </div>
        <script>
            function handleClick(event) {

                // Do something when clicking the child div

                event.stopPropagation(); 

                }
            function showModal() {
                const modal = document.getElementById("modal");
                const wrapper = document.getElementById("modal_wrapper");
                wrapper.style.display = "flex"
                modal.classList.add("animate_modal");
                document.body.style.overflow = "hidden"

            }
            function closeModal() {
                const modal = document.getElementById("modal");

                const wrapper = document.getElementById("modal_wrapper");
                wrapper.style.display = "none"
                modal.classList.remove("animate_modal");
                document.body.style.overflow = "auto"

            }
            // todo: start position, end position and refresh on scroll down, long page without having scrolled, catch up
            const html = document.documentElement;
            const canvas = document.getElementById("cyclist2");
            const context = canvas.getContext("2d");
            const frameCount = 144;
            const offset = 100; // when the cyclist starts animating
            const a = 5 // scroll resolution e.g. 1 animation frame per 5 pixels
            const currentFrame = index => (
                `img/animation/anim${index.toString()}.png`
            )
            var imageArray = []
            var index = 0
            const preloadImages = () => {
                for (let i = 1; i <= frameCount; i++) {
                    const img = new Image();
                    img.src = currentFrame(i);

                    imageArray.push(img)
                }
            };
            context.beginPath();
            context.strokeStyle = "black";
            context.lineWidth = 2;
            context.moveTo(75, 0);
            context.setLineDash([35, 10]);
            context.lineTo(75, 75);
            context.stroke();
            context.beginPath();
            context.arc(75, 75, 15, 0, 2 * Math.PI, false);
            context.fillStyle = 'white';
            context.fill();
            context.lineWidth = 2;
            context.setLineDash([]);
            context.strokeStyle = 'black';
            context.stroke();
            const img3 = new Image();
            img3.src = `img/animation/straight.png`
            if (img3.complete) {
                context.drawImage(img3, -50, -50);
            } else {
                img3.onload = function () {
                    context.drawImage(img3, -50, -50);
                };
            }

            context.drawImage(img3, 100, 200);
            window.addEventListener('scroll', () => {
                const scrollTop = html.scrollTop;
                const canvasPos = canvas.getBoundingClientRect().top
                const startScroll = window.innerHeight / 2;
                const routeHeight = 5290;

                const updateImage = () => {



                    if (canvasPos <= startScroll) {

                        var f = 2;
                        var w = 1440;
                        var h = 100 / 2;
                        function calcSineY(x) {
                            return h - h * Math.sin(x * 2 * Math.PI * (f / w));
                        }
                        context.clearRect(0, 0, canvas.width, canvas.height);
                        index = Math.floor((startScroll - canvasPos) / a) % (frameCount - 1);
                        posY = (Math.sin(((index) / (frameCount - 1) * 360) * Math.PI / 180) * 50) - 50
                        posX = (startScroll - canvasPos) - 50
                        context.beginPath();
                        context.strokeStyle = "black";
                        context.lineWidth = 2;
                        context.moveTo(75, 0);
                        context.setLineDash([35, 10]);
                        context.lineTo(75, 75);
                        context.stroke();


                        context.beginPath();
                        context.moveTo(75, 75);
                        context.setLineDash([35, 10]);
                        context.strokeStyle = "black";
                        for (var i = 0; i < Math.floor((startScroll - canvasPos)); i++) {
                            if (i < 5080) {
                                var y = calcSineY(i);

                                context.lineTo(150 - 25 - y, i + 75);
                            }


                        }
                        context.stroke();
                        var prevP = 0
                        for (var p = 0; p < (Math.floor((startScroll - canvasPos) / 360) + 1); p++) {

                            const elements = Array.from(document.getElementsByClassName("wp" + (p + 1)))
                            elements.forEach(element => {
                                element.classList.remove("animate_out");
                                element.classList.add("animate_in");
                            });
                            for (var r = p + 1; r < 15; r++) {
                                const elements = Array.from(document.getElementsByClassName("wp" + (r + 1)))
                                elements.forEach(element => {
                                    element.classList.remove("animate_in");
                                    element.classList.add("animate_out");
                                });
                            }

                            var dir = 25
                            if (p % 2 !== 0) {
                                dir = 125
                            }
                            context.beginPath();
                            context.moveTo(75, 75 + (p) * 360);
                            context.setLineDash([]);
                            context.lineTo(dir, 75 + (p) * 360);
                            context.stroke();
                            context.beginPath();
                            context.arc(75, 75 + (p) * 360, 15, 0, 2 * Math.PI, false);
                            context.fillStyle = 'white';
                            context.fill();
                            context.lineWidth = 2;
                            context.setLineDash([]);
                            context.strokeStyle = 'black';
                            context.stroke();
                        }
                        if ((startScroll - canvasPos) <= 5050) {
                            context.drawImage(imageArray[index], posY, posX);
                        } else {
                            context.drawImage(img3, -50, 5000);
                        }

                    } else {
                        if (canvasPos > startScroll) {
                            const elements = Array.from(document.getElementsByClassName("wp1"))
                            elements.forEach(element => {
                                element.classList.remove("animate_in");
                                element.classList.add("animate_out");
                            });
                            context.clearRect(0, 0, canvas.width, canvas.height);

                            context.beginPath();
                            context.strokeStyle = "black";
                            context.lineWidth = 2;
                            context.moveTo(75, 0);
                            context.setLineDash([35, 10]);
                            context.lineTo(75, 75);
                            context.stroke();
                            context.beginPath();
                            context.arc(75, 75, 15, 0, 2 * Math.PI, false);
                            context.fillStyle = 'white';
                            context.fill();
                            context.lineWidth = 2;
                            context.setLineDash([]);
                            context.strokeStyle = 'black';
                            context.stroke();
                            context.drawImage(img3, -50, -50);

                        }
                        // index = 0
                        // context.clearRect(0, 0, canvas.width, canvas.height);

                        // context.drawImage(imageArray[index], -50, -50, 250, 250);
                    }
                }
                requestAnimationFrame(() => updateImage())
            });
            preloadImages()
        </script>
        <script>
            const slider = document.querySelector(".slider input");
            const img = document.querySelector(".images .img-2");
            const dragLine = document.querySelector(".slider .drag-line");
            slider.oninput = () => {
                let sliderVal = slider.value;
                dragLine.style.left = sliderVal + "%";
                img.style.width = sliderVal + "%";
            }
        </script>
        <script type="module">
            var initZoom = 7
            if (window.innerWidth < 800) {
                initZoom = 6
            }
            const map = L.map('map', {
                minZoom: (initZoom),
                maxZoom: 9, scrollWheelZoom: false
            }).setView([45.495, 9.734], initZoom);
            L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
                attribution: '<a href="http://www.osm.org">OpenStreetMap</a>'
            }).addTo(map);
            var control = L.control.layers(null, null).addTo(map);
            var marker = L.marker([46.529, 10.851], {
                title: "glacier"
            }).addTo(map).on('click', function (e) { window.location.href = "#monaco"; })
            const imageUrl = './img/oldmap_modified.png';
            const errorOverlayUrl = 'https://cdn-icons-png.flaticon.com/512/110/110686.png';
            const altText = '';
            const latLngBounds = L.latLngBounds([[48.126926, 4.950054], [42.759366, 14.614517]]);
            const latLngBoundsZoom = L.latLngBounds([[48.426926, 4.650054], [42.459366, 14.914517]]);
            map.setMaxBounds(latLngBoundsZoom);
            const imageOverlay = L.imageOverlay(imageUrl, latLngBounds, {
                opacity: 1,
                errorOverlayUrl,
                alt: altText,
                interactive: true,

            }).addTo(map);

            control.addOverlay(imageOverlay, "Historic Map")
            const url = 'https://mevantilburg.github.io/ggr_website/img/Ride_vklein.gpx';
            const options = {
                markers: {
                    startIcon: 'https://mevantilburg.github.io/ggr_website/img/marker.svg',
                    endIcon: 'https://mevantilburg.github.io/ggr_website/img/marker.svg',
                    wptTypeIcons: { pass: 'https://mevantilburg.github.io/ggr_website/img/marker.svg', glacier: 'https://mevantilburg.github.io/ggr_website/img/marker.svg', Dot: 'https://mevantilburg.github.io/ggr_website/img/marker.svg' },

                },

                async: true,
                polyline_options: { color: 'black', dashArray: "15,5" },
            };

            const gpx = new L.GPX(url, options).on('loaded', (e) => {
                control.addOverlay(gpx, "Goodbye Glacier Ride");
            }).addTo(map);


        </script>
 
</body>

</html>